---
import type { StarlightRouteData } from '@astrojs/starlight/route-data';
import Default from '@astrojs/starlight/components/Head.astro';

// Get the URL of the generated image for the current page using starlightRoute.id
const ogImageUrl = new URL(
  `/og/${Astro.locals.starlightRoute.id.replace(/\.\w+$/, '.png').replace(/^\./, 'index.')}`.replace(/\/\./, '/index.'),
  Astro.site,
);
---

<!-- Render the default Starlight Head component -->
<Default><slot /></Default>

<!-- Add Open Graph and Twitter meta tags -->
<meta property="og:image" content={ogImageUrl} />
<meta name="twitter:image" content={ogImageUrl} />
